<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Wed Nov 19 12:09:38 EST 1997 -->
<title>
  Class w3c.amaya.HTTPRequest
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-w3c.amaya.html">This Package</a>  <a href="w3c.amaya.HTTPLinkHeader.html#_top_">Previous</a>  <a href="w3c.amaya.HTTPThreadPool.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class w3c.amaya.HTTPRequest
</h1>
<pre>
java.lang.Object
   |
   +----w3c.amaya.HTTPRequest
</pre>
<hr>
<dl>
  <dt> public class <b>HTTPRequest</b>
  <dt> extends Object
</dl>
This class is the front-end of the Java HTTP stack called by the
 Amaya program when remote accesses are needed.
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#AGET_REQUEST"><b>AGET_REQUEST</b></a>
  <dd>  status for an asynchonous GET request (used for inlined images).
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#FAILED_REQUEST"><b>FAILED_REQUEST</b></a>
  <dd>  status for a failed requests, e.g.
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#GET_REQUEST"><b>GET_REQUEST</b></a>
  <dd>  status for a GET request

  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#HTTPAccessObject"><b>HTTPAccessObject</b></a>
  <dd> 
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#linkHeaders"><b>linkHeaders</b></a>
  <dd> 
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#next"><b>next</b></a>
  <dd>  Note : this class instanciation is called from C, as well
	      as most of these fields initialization.
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#NO_CACHE"><b>NO_CACHE</b></a>
  <dd>  extra status bit if caching should be disabled.
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#NO_REDIR"><b>NO_REDIR</b></a>
  <dd>  extra status bit if automatic redirection should be disabled.
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#POST_REQUEST"><b>POST_REQUEST</b></a>
  <dd>  status for a POST request

  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#PUT_REQUEST"><b>PUT_REQUEST</b></a>
  <dd>  status for a PUT request

  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#STOPPED_REQUEST"><b>STOPPED_REQUEST</b></a>
  <dd>  status for a stopped request

</dl>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#HTTPRequest()"><b>HTTPRequest</b></a>()
  <dd> 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#AsyncGet(int)"><b>AsyncGet</b></a>(int)
  <dd>  prepare operation for an asynchronous GET.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Callback(long, long)"><b>Callback</b></a>(long, long)
  <dd>  The callback' mechanism relies on the support from a native function.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#DeQueue()"><b>DeQueue</b></a>()
  <dd>  method called by HTTPThreads to get a request from the Waiting
 Queue, it's a blocking one.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#DoCallback()"><b>DoCallback</b></a>()
  <dd>  Call the C callback 

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Get(int)"><b>Get</b></a>(int)
  <dd>  prepare operation for a GET
 
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Initialize()"><b>Initialize</b></a>()
  <dd>  Class Wide initialization.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#newHTTPRequest(int)"><b>newHTTPRequest</b></a>(int)
  <dd>  The method called from C to initialize a new request.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Post(int)"><b>Post</b></a>(int)
  <dd>  prepare operation for a POST
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Print()"><b>Print</b></a>()
  <dd>  debugging

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Put(int)"><b>Put</b></a>(int)
  <dd>  prepare operation for a PUT
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Start(int)"><b>Start</b></a>(int)
  <dd>  start the handling of an HTTP request
 
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Stop(int)"><b>Stop</b></a>(int)
  <dd>  stop all the requests running for a document.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Terminate()"><b>Terminate</b></a>()
  <dd>  terminate this request.
</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="HTTPAccessObject"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>HTTPAccessObject</b>
<pre>
 protected static <a href="w3c.amaya.HTTPAccess.html#_top_">HTTPAccess</a> HTTPAccessObject
</pre>
<a name="STOPPED_REQUEST"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>STOPPED_REQUEST</b>
<pre>
 public static final int STOPPED_REQUEST
</pre>
<dl>
  <dd> status for a stopped request<p>
</dl>
<a name="GET_REQUEST"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>GET_REQUEST</b>
<pre>
 public static final int GET_REQUEST
</pre>
<dl>
  <dd> status for a GET request<p>
</dl>
<a name="PUT_REQUEST"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>PUT_REQUEST</b>
<pre>
 public static final int PUT_REQUEST
</pre>
<dl>
  <dd> status for a PUT request<p>
</dl>
<a name="POST_REQUEST"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>POST_REQUEST</b>
<pre>
 public static final int POST_REQUEST
</pre>
<dl>
  <dd> status for a POST request<p>
</dl>
<a name="AGET_REQUEST"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>AGET_REQUEST</b>
<pre>
 public static final int AGET_REQUEST
</pre>
<dl>
  <dd> status for an asynchonous GET request (used for inlined images).<p>
</dl>
<a name="FAILED_REQUEST"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>FAILED_REQUEST</b>
<pre>
 public static final int FAILED_REQUEST
</pre>
<dl>
  <dd> status for a failed requests, e.g. invalid URL.<p>
</dl>
<a name="NO_CACHE"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>NO_CACHE</b>
<pre>
 protected static final int NO_CACHE
</pre>
<dl>
  <dd> extra status bit if caching should be disabled.<p>
</dl>
<a name="NO_REDIR"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>NO_REDIR</b>
<pre>
 protected static final int NO_REDIR
</pre>
<dl>
  <dd> extra status bit if automatic redirection should be disabled.<p>
</dl>
<a name="next"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>next</b>
<pre>
 public <a href="#_top_">HTTPRequest</a> next
</pre>
<dl>
  <dd> Note : this class instanciation is called from C, as well
	      as most of these fields initialization.<p>
</dl>
<a name="linkHeaders"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>linkHeaders</b>
<pre>
 public <a href="w3c.amaya.HTTPLinkHeader.html#_top_">HTTPLinkHeader</a> linkHeaders
</pre>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="HTTPRequest"></a>
<a name="HTTPRequest()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>HTTPRequest</b>
<pre>
 public HTTPRequest()
</pre>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="newHTTPRequest(int)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="newHTTPRequest"><b>newHTTPRequest</b></a>
<pre>
 public static <a href="#_top_">HTTPRequest</a> newHTTPRequest(int type)
</pre>
<dl>
  <dd> The method called from C to initialize a new request.
 Note that most fields will be initialized from C.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> a clean new HTTPRequest object
  </dl></dd>
</dl>
<a name="Start(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Start"><b>Start</b></a>
<pre>
 public int Start(int flags)
</pre>
<dl>
  <dd> start the handling of an HTTP request
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> flags - extra flags for cache or redirection handling
    <dt> <b>Returns:</b>
    <dd> the result of the request if synchonous, or the result
 of the enqueuing of the request if asynchronous. -1 if the type
 was not properly initialized.
  </dl></dd>
</dl>
<a name="Initialize()"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Initialize"><b>Initialize</b></a>
<pre>
 public static void Initialize()
</pre>
<dl>
  <dd> Class Wide initialization.
<p>
</dl>
<a name="DeQueue()"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="DeQueue"><b>DeQueue</b></a>
<pre>
 public static <a href="#_top_">HTTPRequest</a> DeQueue()
</pre>
<dl>
  <dd> method called by HTTPThreads to get a request from the Waiting
 Queue, it's a blocking one.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> an HTTP request to run.
  </dl></dd>
</dl>
<a name="Terminate()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Terminate"><b>Terminate</b></a>
<pre>
 public void Terminate()
</pre>
<dl>
  <dd> terminate this request.
<p>
</dl>
<a name="Stop(int)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Stop"><b>Stop</b></a>
<pre>
 public static void Stop(int doc)
</pre>
<dl>
  <dd> stop all the requests running for a document.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> doc - the document number.
  </dl></dd>
</dl>
<a name="Get(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Get"><b>Get</b></a>
<pre>
 public int Get(int flags)
</pre>
<dl>
  <dd> prepare operation for a GET
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> flags - extra flags for caching, redirections, ...
    <dt> <b>Returns:</b>
    <dd> the HTTP ststus of the completed request
  </dl></dd>
</dl>
<a name="AsyncGet(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="AsyncGet"><b>AsyncGet</b></a>
<pre>
 public int AsyncGet(int flags)
</pre>
<dl>
  <dd> prepare operation for an asynchronous GET. The completion will
 be signaled by calling a callback in the C code.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> flags - extra flags for caching, redirections, ...
    <dt> <b>Returns:</b>
    <dd> -1 in case of problems, zero otherwise
  </dl></dd>
</dl>
<a name="Put(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Put"><b>Put</b></a>
<pre>
 public int Put(int flags)
</pre>
<dl>
  <dd> prepare operation for a PUT
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> flags - extra flags for caching, redirections, ...
    <dt> <b>Returns:</b>
    <dd> the HTTP ststus of the completed request
  </dl></dd>
</dl>
<a name="Post(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Post"><b>Post</b></a>
<pre>
 public int Post(int flags)
</pre>
<dl>
  <dd> prepare operation for a POST
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> flags - extra flags for caching, redirections, ...
    <dt> <b>Returns:</b>
    <dd> the HTTP ststus of the completed request
  </dl></dd>
</dl>
<a name="Print()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Print"><b>Print</b></a>
<pre>
 public void Print()
</pre>
<dl>
  <dd> debugging
<p>
</dl>
<a name="Callback(long, long)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Callback"><b>Callback</b></a>
<pre>
 public native void Callback(long callback_f,
                             long callback_arg)
</pre>
<dl>
  <dd> The callback' mechanism relies on the support from a native function.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> callback_f - the actual callback in C code.
    <dd> callback_arg - a poter to a C structure for the callback.
  </dl></dd>
</dl>
<a name="DoCallback()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="DoCallback"><b>DoCallback</b></a>
<pre>
 public void DoCallback()
</pre>
<dl>
  <dd> Call the C callback
<p>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-w3c.amaya.html">This Package</a>  <a href="w3c.amaya.HTTPLinkHeader.html#_top_">Previous</a>  <a href="w3c.amaya.HTTPThreadPool.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
