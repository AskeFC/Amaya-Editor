<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Wed Nov 19 12:09:38 EST 1997 -->
<title>
  Class w3c.amaya.HTTPAccess
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-w3c.amaya.html">This Package</a>  <a href="w3c.amaya.HTMLElement.html#_top_">Previous</a>  <a href="w3c.amaya.HTTPAuthorization.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class w3c.amaya.HTTPAccess
</h1>
<pre>
java.lang.Object
   |
   +----w3c.amaya.HTTPAccess
</pre>
<hr>
<dl>
  <dt> public class <b>HTTPAccess</b>
  <dt> extends Object
</dl>
This class is used to synchronize the Producer/Consumer model
 corresponding to the user thread adding requests and the pool
 of HTTPThread taking requests and handling them.
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#authFilter"><b>authFilter</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#cache"><b>cache</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#debugFilter"><b>debugFilter</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#exceptionFilter"><b>exceptionFilter</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#LastRequestResult"><b>LastRequestResult</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#linkFilter"><b>linkFilter</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#linkHeaders"><b>linkHeaders</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#manager"><b>manager</b></a>
  <dd> 
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#NbStartedRequest"><b>NbStartedRequest</b></a>
  <dd> 
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#NbStoppedRequest"><b>NbStoppedRequest</b></a>
  <dd> 
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#NbSuccessRequest"><b>NbSuccessRequest</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#RunningRequests"><b>RunningRequests</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ShowRunning"><b>ShowRunning</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#WaitingRequests"><b>WaitingRequests</b></a>
  <dd> 
</dl>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#HTTPAccess()"><b>HTTPAccess</b></a>()
  <dd>  Constructor : not needed since we only use static fields and methods.
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#DeQueue()"><b>DeQueue</b></a>()
  <dd>  called by HTTPThreads to get a request from the Waiting Queue,
 it's a blocking one.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Display()"><b>Display</b></a>()
  <dd>  Update the Stop or Done icons on all documents depending whether
 requests are being serviced for these documents.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Display(int)"><b>Display</b></a>(int)
  <dd>  Update the Stop or Done icons on a documents depending whether
 requests are being serviced for this document.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#EnQueue(w3c.amaya.HTTPRequest)"><b>EnQueue</b></a>(HTTPRequest)
  <dd>  private method to add a request to the Waiting Queue.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#handleLinkHeaders(int)"><b>handleLinkHeaders</b></a>(int)
  <dd>  Link header fetched when receiving the HTTP data have to be
 stored and handled later once the HTML document is parsed.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Initialize(java.lang.String)"><b>Initialize</b></a>(String)
  <dd>  Initialize the whole Amaya network interface.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Lookup(w3c.www.protocol.http.Request)"><b>Lookup</b></a>(Request)
  <dd>  scans the Running queue list, searching for the HTTPRequest who own
 a given w3.www.protocol.http.Request (Jigsaw specific !).
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Lookup(java.lang.String)"><b>Lookup</b></a>(String)
  <dd>  scans the Running queue list, searching for the HTTPRequest associated
 to a given URL.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Print()"><b>Print</b></a>()
  <dd>  for debugging only.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ShowDone(int)"><b>ShowDone</b></a>(int)
  <dd>  This flip the first icon of the Amaya first view for this document,
 and show the Done icon.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ShowStop(int)"><b>ShowStop</b></a>(int)
  <dd>  This flip the first icon of the Amaya first view for this document,
 and show the Stop icon.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Stop()"><b>Stop</b></a>()
  <dd>  Should be called when the Amaya network interface is to be shut down.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Stop(int)"><b>Stop</b></a>(int)
  <dd>  method called by the client when one should stop the HTTP requests
 currently running or queued for a document.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Terminate(w3c.amaya.HTTPRequest)"><b>Terminate</b></a>(HTTPRequest)
  <dd>  called by HTTPThreads at the end of the handling of an HTTPRequest.
</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="manager"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>manager</b>
<pre>
 protected static HttpManager manager
</pre>
<a name="exceptionFilter"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>exceptionFilter</b>
<pre>
 protected static <a href="w3c.amaya.HTTPException.html#_top_">HTTPException</a> exceptionFilter
</pre>
<a name="linkFilter"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>linkFilter</b>
<pre>
 protected static <a href="w3c.amaya.HTTPLink.html#_top_">HTTPLink</a> linkFilter
</pre>
<a name="authFilter"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>authFilter</b>
<pre>
 protected static <a href="w3c.amaya.HTTPAuthorization.html#_top_">HTTPAuthorization</a> authFilter
</pre>
<a name="debugFilter"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>debugFilter</b>
<pre>
 protected static DebugFilter debugFilter
</pre>
<a name="cache"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>cache</b>
<pre>
 protected static CacheFilter cache
</pre>
<a name="NbStartedRequest"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>NbStartedRequest</b>
<pre>
 protected int NbStartedRequest
</pre>
<a name="NbStoppedRequest"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>NbStoppedRequest</b>
<pre>
 protected int NbStoppedRequest
</pre>
<a name="NbSuccessRequest"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>NbSuccessRequest</b>
<pre>
 protected int NbSuccessRequest
</pre>
<a name="RunningRequests"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>RunningRequests</b>
<pre>
 protected static int RunningRequests[]
</pre>
<a name="WaitingRequests"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>WaitingRequests</b>
<pre>
 protected static int WaitingRequests[]
</pre>
<a name="LastRequestResult"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>LastRequestResult</b>
<pre>
 protected static int LastRequestResult[]
</pre>
<a name="ShowRunning"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>ShowRunning</b>
<pre>
 protected static boolean ShowRunning[]
</pre>
<a name="linkHeaders"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>linkHeaders</b>
<pre>
 protected static <a href="w3c.amaya.HTTPLinkHeader.html#_top_">HTTPLinkHeader</a> linkHeaders[]
</pre>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="HTTPAccess"></a>
<a name="HTTPAccess()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>HTTPAccess</b>
<pre>
 public HTTPAccess()
</pre>
<dl>
  <dd> Constructor : not needed since we only use static fields and methods.
<p>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="Initialize(java.lang.String)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Initialize"><b>Initialize</b></a>
<pre>
 public static void Initialize(String JavaPropertiesFile)
</pre>
<dl>
  <dd> Initialize the whole Amaya network interface.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> JavaPropertiesFile - a property file name can be passed
        as argument to be loaded.
  </dl></dd>
</dl>
<a name="handleLinkHeaders(int)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="handleLinkHeaders"><b>handleLinkHeaders</b></a>
<pre>
 public static void handleLinkHeaders(int document)
</pre>
<dl>
  <dd> Link header fetched when receiving the HTTP data have to be
 stored and handled later once the HTML document is parsed.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> document - the document number.
  </dl></dd>
</dl>
<a name="Stop()"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Stop"><b>Stop</b></a>
<pre>
 public static void Stop()
</pre>
<dl>
  <dd> Should be called when the Amaya network interface is to be shut down.
 it sync() the HTTP cache.
<p>
</dl>
<a name="EnQueue(w3c.amaya.HTTPRequest)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="EnQueue"><b>EnQueue</b></a>
<pre>
 public synchronized void EnQueue(<a href="w3c.amaya.HTTPRequest.html#_top_">HTTPRequest</a> req)
</pre>
<dl>
  <dd> private method to add a request to the Waiting Queue.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> req - an HTTP request to run
  </dl></dd>
</dl>
<a name="DeQueue()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="DeQueue"><b>DeQueue</b></a>
<pre>
 public synchronized <a href="w3c.amaya.HTTPRequest.html#_top_">HTTPRequest</a> DeQueue()
</pre>
<dl>
  <dd> called by HTTPThreads to get a request from the Waiting Queue,
 it's a blocking one. The request is moved from the WaitingQueue
 to the RunningQueue.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> an HTTP request to run
  </dl></dd>
</dl>
<a name="Terminate(w3c.amaya.HTTPRequest)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Terminate"><b>Terminate</b></a>
<pre>
 public synchronized void Terminate(<a href="w3c.amaya.HTTPRequest.html#_top_">HTTPRequest</a> req)
</pre>
<dl>
  <dd> called by HTTPThreads at the end of the handling of an HTTPRequest.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> req - the HTTP request just completed
  </dl></dd>
</dl>
<a name="Stop(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Stop"><b>Stop</b></a>
<pre>
 public synchronized void Stop(int doc)
</pre>
<dl>
  <dd> method called by the client when one should stop the HTTP requests
 currently running or queued for a document.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> doc - the document number
  </dl></dd>
</dl>
<a name="Lookup(w3c.www.protocol.http.Request)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Lookup"><b>Lookup</b></a>
<pre>
 public synchronized <a href="w3c.amaya.HTTPRequest.html#_top_">HTTPRequest</a> Lookup(Request req)
</pre>
<dl>
  <dd> scans the Running queue list, searching for the HTTPRequest who own
 a given w3.www.protocol.http.Request (Jigsaw specific !). This is
 needed for filters who don't get the HTTPRequest but the internal
 request object.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> req - the w3.www.protocol.http.Request to search
    <dt> <b>Returns:</b>
    <dd> the HTTPRequest running or <bold>null</bold> if not found.
  </dl></dd>
</dl>
<a name="Lookup(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Lookup"><b>Lookup</b></a>
<pre>
 public synchronized <a href="w3c.amaya.HTTPRequest.html#_top_">HTTPRequest</a> Lookup(String url)
</pre>
<dl>
  <dd> scans the Running queue list, searching for the HTTPRequest associated
 to a given URL. This is needed for filters who don't get the
 HTTPRequest but the internal request object.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> url - the w3.www.protocol.http.Request to search
    <dt> <b>Returns:</b>
    <dd> the HTTPRequest running or <bold>null</bold> if not found.
  </dl></dd>
</dl>
<a name="Print()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Print"><b>Print</b></a>
<pre>
 public synchronized void Print()
</pre>
<dl>
  <dd> for debugging only.
<p>
</dl>
<a name="ShowStop(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="ShowStop"><b>ShowStop</b></a>
<pre>
 public void ShowStop(int doc)
</pre>
<dl>
  <dd> This flip the first icon of the Amaya first view for this document,
 and show the Stop icon. Pressing it enable stopping the running HTTP
 requests.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> doc - the document number
  </dl></dd>
</dl>
<a name="ShowDone(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="ShowDone"><b>ShowDone</b></a>
<pre>
 public void ShowDone(int doc)
</pre>
<dl>
  <dd> This flip the first icon of the Amaya first view for this document,
 and show the Done icon. All HTTP requests for this document have been
 completed.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> doc - the document number
  </dl></dd>
</dl>
<a name="Display()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Display"><b>Display</b></a>
<pre>
 public void Display()
</pre>
<dl>
  <dd> Update the Stop or Done icons on all documents depending whether
 requests are being serviced for these documents.
<p>
</dl>
<a name="Display(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="Display"><b>Display</b></a>
<pre>
 public void Display(int doc)
</pre>
<dl>
  <dd> Update the Stop or Done icons on a documents depending whether
 requests are being serviced for this document.
<p>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-w3c.amaya.html">This Package</a>  <a href="w3c.amaya.HTMLElement.html#_top_">Previous</a>  <a href="w3c.amaya.HTTPAuthorization.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
