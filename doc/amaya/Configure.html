<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
   "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>Configuring Amaya</title>
</head>
<body lang="en">

<table border="0" width="100%">
<tbody>
<tr>
<td><p>
<img border="0" alt="W3C" src="../../Icons/WWW/w3c_home"> <img border="0"
alt="Amaya" src="../Icons/amaya.gif"></p>
</td>
<td><p align="right">
<a href="MakeBook.html"><img alt="previous" border="0"
src="../Icons/left.gif"></a> <a href="Manual.html"><img alt="top" border="0"
src="../Icons/up.gif"></a></p>
</td>
</tr>
</tbody>
</table>

<div id="Configuring">

<h2>Configuring Amaya</h2>
<p>
<strong>Amaya</strong> uses different configuration files to get initial
values for global parameters, dialogue strings, shortcuts, windows size and
windows position, user CSS. You can change the default values by creating or
updating the following configuration files:</p>
<ul>
<li>
The <a name="registry">registry file</a> <strong>$HOME/.thotrc</strong> (Unix)
or <strong>Thot/config/thot.rc</strong> (Windows)
<p>
This file  is used to define global parameters of Thot applications (Amaya is
a Thot application). Inside this file, there's a section called
<code>[amaya]</code> where are specified the configuration options concerning:
<a href="#L138">the default home page</a>, <a href="#Multi-key">control the
multi-key support</a>, <a href="#Specifying">proxies</a>,<a href="#L139">
default colors</a>, <a href="#Default">the default zoom-factor</a>,<a
href="#L140"> the colors palette</a>, <a href="#L141">the dialogue
language</a>, <a href="#Personnal">the personall dictionary</a>, and<a
href="#L242"> the default printer command</a>.</p>
</li>
<li>
The <a name="keyboard">keyboard file</a> <strong>$HOME/amaya.keyboard</strong>
(this file is specific to a Unix user) or
<strong>Thot/config/amaya.keyboard</strong> (this file is the default for Unix
users). or <strong>Thot/config/amaya.kb</strong> (this file is the default for
Windows users).
<p>
This file defines <a href="#L236">Amaya keyboard shortcuts</a>.</p>
</li>
<li>
The <a name="HTML1">HTML configuration file</a>
<strong>$HOME/HTML.conf</strong> (this file is specific to a Unix user) or
<strong>Thot/amaya/HTMLconf</strong> (this file is the default for Unix or
Windows users). This file defines <a href="#HTML">position</a> and the <a
href="#HTML">size</a> of the Amaya document windows.
</li>
<li>
The standard User's Preference Styles are defined in the file
<strong>$HOME/.amaya.css</strong> (Unix) or
<strong>Thot/amaya/amaya.css</strong> (Windows).
</li>
</ul>
<p>
N.B. These configuration files are loaded at runtime. If you change them,
you'll need to quit and restart Amaya to take them into account.</p>

<h3><a name="L138">Home Page</a></h3>
<p>
You can change the default home page of <strong>Amaya</strong> by editing the
<code>HOME_PAGE</code> variable in the <a href="#registry">registry
file</a>.</p>

<h3><a name="Specifying">Specifying the proxies</a></h3>
<p>
You can specify a proxy and a set of domains which should be access without
a proxy by means of two proxy variables. You can set up the proxy variables
by using either the <a
href="#registry">registry file</a> or your shell's environment variables.</p>
<p>
If you use the registry file, find the <code>[amaya]</code>, section and
specify the proxy variables as in the following example:</p>
<blockquote>
<pre>
HTTP_PROXY=http://groucho.marx.edu:1028
     proxy FQDN --^               ^---- optional proxy port

NO_PROXY=harpo.marx.edu zeppo.marx.edu chico.marx.edu
    FQDN --^           ^--- space separated entries
</pre>
</blockquote>
<p>
Amaya uses the environment variables proxy and no_proxy for setting up the
proxies. For example, under the UNIX tcsh shell, you can set them up as
follows (the syntax is the same as for the registry file):</p>
<blockquote>
<pre>setenv http_proxy http://groucho.marx.edu:1028
setenv no_proxy harpo.marx.edu zeppo.marx.edu chico.marx.edu</pre>
</blockquote>
<p>
One way to do this under Windows is to add the following lines to your
<code>autoexec.bat</code> file:</p>
<blockquote>
<pre>set http_proxy=http://groucho.marx.edu:1028
set no_proxy=harpo.marx.edu zeppo.marx.edu chico.marx.edu</pre>
</blockquote>
<p>
Please consult your system's documentation for more complete information on
how to specify environment variables.</p>

<h3><a name="Cache">Cache</a></h3>
<p>
As of version 1.3a, Amaya provides a cache thru libwww. The cache is enabled
by default and is stored in a directory which is called
<STRONG>libwww-cache</STRONG>.</p>
<p>
Three registry files entries allow you to control the cache:</p>
<dl>
<dt><strong>EnableCache</strong> [YES/NO, default YES]</dt>
<dd>
Activates or desactivates the cache
</dd>
<dt><strong>CacheSize</strong> [size in megabytes, default 5 megabytes]</dt>
<dd>
Gives the size of the cache repository
</dd>
<dt><strong>CacheDir</strong> [path, the default is the .amaya temporary
directory]</dt>
<dd>
The directory path where you want to create the libwww-cache directory
</dd>
</dl>
<p>
To purge the cache, you just need to erase the libwww-cache directory (when
Amaya is not running), or use the <strong>Purge Cache</strong> entry in the
<strong>Special</strong> menu.</p>

<h3><a name="HTML">Document Windows</a></h3>
<p>
Parameters related to the particular schema HTML are stored in the <a
href="#HTML1">HTML.conf file</a>. In that file there are different sections,
one by Presentation Schema, that allows user to control position and size of
document windows defined by the presentation schema:</p>
<ul>
<li>
Each presentation schema name is introduced by the keyword
<strong>style.</strong>
</li>
<li>
The keyword <strong>open</strong> declares the main view of the document. It's
always the "Formatted-view" for HTML documents.
</li>
<li>
The keyword <strong>geometry</strong> declares other available views.
</li>
</ul>
<p>
For each view, in both the <strong>open</strong> and <strong>geometry</strong>
sections, there is a list of four parameters specifying the
<code>x_position</code>, the <code>y_position</code>, the <code>width</code>,
and the <code>height </code>of that view. The value of the
<code>x_position</code> and the <code>y_position</code> are automatically
incremented by Amaya to display diffent document views at different places on
the screen.</p>

<h3><a name="L139">Default Colors</a></h3>
<p>
User interface colors have default values that can be modified in the <a
href="#registry">registry file</a> of the user. The following parameters are
used:</p>
<ul>
<li>
BackgroundColor, the background color of document windows.
</li>
<li>
<code>DocSelectColor, the</code> background color of the selected part and of
the insertion cursor.
<p>
<em>N.B. The default value for Black and White screens is
</em><code>Black</code><em>. If you can't see a selection in your screen,
change this value to </em><code>White</code><em>.</em></p>
</li>
</ul>
<ul>
<li>
<code>ForegroundColor</code>, the default color of text in documents.
</li>
<li>
<code>MenuBgColor, the b</code>ackground color of: menu bars at the top of
windows, the area where the selection message is displayed at the top of
document windows, menus, dialogue boxes.
</li>
<li>
<code>ButtonColor</code>, background color of buttons in dialogue forms.
</li>
<li>
<code>ScrollColor,</code> color of the scrolling bars.
</li>
</ul>
<p>
To take into account any change to these options, you need to restart
<strong>Amaya</strong>.</p>

<h3><a name="Default">Default Zoom-factor</a></h3>
<p>
It's now possible to zoom in and zoom out document window by document window,
so each document displayed within a zoomed window will be displayed larger or
smaller than its real size according of the current zoom.</p>
<p>
Amaya has a default zoom value equal to 0 (documents are displayed by default
as they are). This default value can be modified in the <a
href="#registry">registry file</a> of the user by the parameter ZOOM. Users
who used the CSS rule "Magnification: 3" in previous Amaya releases (before
1.3) have now to set the corresponding parameter value in the registry file:
ZOOM=3.</p>

<h3><a name="L140">Colors Palette</a></h3>
<p>
CSS allows the user to color documents with one of the 152 predefined colors.
During initialization, the editor loads its color table to present them in a
palette. If you have problems with your color resources, you can reduce by
half the number of colors loaded by the editor by editing the following option
in the<a href="#registry"> registry file</a>:</p>
<ul>
<li>
<code>ReduceColor= yes</code>
</li>
</ul>
<p>
To take into account any changes to this option, you need to restart
<strong>Amaya</strong>.</p>

<h3><a name="L141">Dialogue Language</a></h3>
<p>
The dialogue language is defined by the variable <code>LANG</code> in the <a
href="#registry">registry file</a>. The default language is English (value
<code>en_US</code>). At the moment, only two languages are available: English
(<code>en</code>) and French (<code>fr</code>). When launched, Amaya loads
dialogue files according to the current dialogue language: en- files or fr-
files. These dialogue files are located in the directory Thot/config.</p>
<p>
In Thot, a document is specified according to a schema. In Amaya, the dialogue
message that are displayed when parsing a document or when saving it under a
specific schema are given in the
<strong>Thot/amaya/HTML.<em>code</em></strong> file, where the <em>code</em>
suffix is a language abbreviation (e.g.,  <code>en</code> or <code>fr</code>).
This  file has 4 sections:</p>
<ul>
<li>
<strong>extension:</strong> not used by Amaya
</li>
<li>
<strong>presentation:</strong> not used by Amaya
</li>
<li>
<strong>export</strong>: give the text displayed for each translation schema
("Save As" command)
</li>
<li>
<strong>translation</strong>: give the text displayed for each element and
attribute in the Thot HTML structure.
</li>
</ul>
<p>
It's possible to adapt Amaya to new ISO-Latin-1 languages by writing
corresponding dialogue files. These dialogue files have to be located in the
same directory <strong>Thot/config,</strong> and must use the right ISO 639
code as a prefix (it- for Italian, de- for German, etc.). The specific
HTML.code file also has to be created.</p>

<h3><a name="Personnal">Personnal dictionary</a></h3>
<p>
Amaya provides a <a href="SpellChecking.html#Spell">multilingual spell
checker</a>. By default the spell checker works with  two dictionaries: the
English dictionary and the French dictionary (these two dictionaries can be
downloaded from <a href="http://www.w3.org/Amaya/User/BinDist.html">W3C
servers </a>). When the user wants to register a new word, the spell checker
creates or updates  the "user's personal dictionary". By default, this "user's
personal dictionary" is <code>$HOME/.thot.DIC</code>, but the user can define
another file. This other dictionary file path is defined by the parameter
<code>"EXTENDDICT="</code> in the registry file.</p>
<p>
By default the "user's personal dictionary" is registered within the file
<code>$HOME/.amaya/.thot.DIC</code>, but the user can change its file name by
setting a different name value in<a href="#registry"> registry file</a> .</p>

<h3><a name="L242">Printer command</a></h3>
<p>
The standard printer command is defined by the <code>THOTPRINTER</code> <a
href="#registry">registry file</a>  variable. If this command is not well
adapted of the current system, the user have to update it before printing
using the "Print Setup" command or change this variable in the <a
href="#registry">registry file</a>.</p>

<h3><a name="Multi-key">Multi-key Support</a></h3>
<p>
The optional input method (Multi-Key) is based on a two key sequence beginning
with the "accent" followed by the "letter". For example to obtain a '&atilde;'
first press '~' then type 'a'. To obtain a '~' you have to press '~' twice.
The table below gives available key sequences:</p>

<table border="1">
<caption></caption>
<tbody>
<tr>
<td>
accent-letter
</td>
<td>
~
</td>
<td>
`
</td>
<td>
'
</td>
<td>
"
</td>
<td>
*
</td>
<td>
^
</td>
</tr>
<tr>
<td>
a A
</td>
<td>
&atilde; &Atilde;
</td>
<td>
&agrave; &Agrave;
</td>
<td>
&aacute; &Aacute;
</td>
<td>
&auml; &Auml;
</td>
<td>
&aring; &Aring;
</td>
<td>
&acirc; &Acirc;
</td>
</tr>
<tr>
<td>
c C
</td>
<td>

</td>
<td>
&ccedil; &Ccedil;
</td>
<td>

</td>
<td>

</td>
<td>

</td>
<td>

</td>
</tr>
<tr>
<td>
e E
</td>
<td>

</td>
<td>
&egrave; &Egrave;
</td>
<td>
&eacute; &Eacute;
</td>
<td>
&euml; &Euml;
</td>
<td>

</td>
<td>
&ecirc; &Ecirc;
</td>
</tr>
<tr>
<td>
i I
</td>
<td>

</td>
<td>
&igrave; &Igrave;
</td>
<td>
&iacute; &Iacute;
</td>
<td>
&iuml; &Iuml;
</td>
<td>

</td>
<td>
&icirc; &Icirc;
</td>
</tr>
<tr>
<td>
n N
</td>
<td>
&ntilde; &Ntilde;
</td>
<td>

</td>
<td>

</td>
<td>

</td>
<td>

</td>
<td>

</td>
</tr>
<tr>
<td>
o O
</td>
<td>
&otilde; &Otilde;
</td>
<td>
&ograve; &Ograve;
</td>
<td>
&oslash; &Oslash;
</td>
<td>
&ouml; &Ouml;
</td>
<td>

</td>
<td>
&ocirc; &Ocirc;
</td>
</tr>
<tr>
<td>
u U
</td>
<td>

</td>
<td>
&ugrave; &Ugrave;
</td>
<td>
&uacute; &Uacute;
</td>
<td>
&uuml; &Uuml;
</td>
<td>

</td>
<td>
&ucirc; &Ucirc;
</td>
</tr>
<tr>
<td>
y Y
</td>
<td>

</td>
<td>
&Yacute;
</td>
<td>
&yacute; &Yacute;
</td>
<td>
&yuml;
</td>
<td>

</td>
<td>

</td>
</tr>
</tbody>
</table>
<p>
By default, this input method is disabled. To active it the user has to edit
his/her <a href="#Configuring">registry file</a> <code>$HOME/.thotrc</code>
(Unix) or <code>Thot/config/thot.rc</code> (Windows) to set the parameter
value "<code>ENABLE_MULTIKEY=yes</code>".</p>

<h3><a name="L236">Keyboard Shortcuts</a></h3>
<p>
It is useful to be able to invoke menu commands directly from the keyboard.
The Thot toolkit provides a facility that let user accomplish this by means of
an application  <a href="#keyboard">keyboard shortcuts file</a>. This file
defines a list of associations between a keyboard sequence an the invoked
corresponding command.</p>
<p>
The syntax used to define an association is:</p>
<pre> Directive = KeySeq ':' IdentCommand ;
 KeysSeq = KeySet [ ',' KeySet ] ;
 KeySet = [ Modifier ] [ 'Shift' ] Key ;
 Key = '&lt;Key>' KeyValue / '&lt;Key>' SpecialKey ;
 Modifier = 'Ctrl' / 'Alt' / 'Meta' ;
 KeyValue = 'a' / 'b' / ... ;
 SpecialKey = 'Escape' / 'Delete' / 'Space' / 'BackSpace' / 
              'Return' / 'Up' / 'Down' / 'Left' / 'Right' / 
              'Home' / 'End' / 'F1' / ... / 'L1' / ... / 'R1' / ... ;
 IdentCommand = 'TtcInsertChar(' Char ')' / NAME '()' ;
 Char = KeyValue / OctalValue ;  OctalValue = '\' NUMBER ; </pre>
<p>
For an example, see the standard amaya.keyboard file, which is located in the
config directory.</p>
<p>
The list of available commands is:</p>
<ul>
<li>
Moving commands:
<ul>
<li>
TtcNextChar, TtcPreviousChar: move chararcter by character.
</li>
<li>
TtcNextLine, TtcPreviousLine, TtcStartOfLine, TtcEndOfLine: move line by line.
</li>
<li>
TtcNextElement, TtcPreviousElement, TtcChildElement, TtcParentElement: move
element by element.
</li>
<li>
TtcPageDown, TtcPageUp, TtcPageTop, TtcPageEnd: move page to page.
</li>
</ul>
</li>
<li>
In <code>File</code> menu:
<p>
New, OpenDoc, OpenDocInNewWindow, Reload, SaveDocument, SaveDocumentAs,
TtcPrint, TtcPrintSetUp, TtcCloseDocument, AmayaClose</p>
</li>
<li>
In Edit menu:
<p>
TtcCutSelection, TtcCopySelection, TtcPaste, TtcDeleteSelection,
TtcSearchText, EnSpellCheck, FrSpellCheck.</p>
</li>
<li>
In <code>Structure Types</code> menu:
<p>
CreateIsIndex, CreateBase, CreateMeta, CreateLinkInHead, CreateComment.</p>
</li>
<li>
In Types menu:
<p>
CreateParagraph, CreateImage, CreateHeading1, CreateHeading2, CreateHeading3,
CreateHeading4, CreateHeading5, CreateHeading6, CreateList,
CreateNumberedList, ThotCreateMenu, ThotCreateDirectory, CreateDefinitionList,
CreateDefinitionTerm, CreateDefinitionDef, CreateHorizontalRule,
CreateBlockQuote, CreatePreformatted, CreateAddress, CreateTable,
CreateCaption, CreateTHead, CreateTBody, CreateTFoot, CreateRow,
CreateDataCell, CreateHeadingCell, CreateToggle, CreateRadio, CreateOption,
CreateTextInput, CreateTextArea, CreateSubmit, CreateReset, CreateAreaRect,
CreateAreaCircle, CreateAreaPoly, CreateDivision, CreateNOSCRIPT,
CreateObject, CreateParameter, CreateIFrame, CreateInlineMath,
CreateDisplayMath, CreateMROOT, CreateMSQRT, CreateMFRAC, CreateMSUBSUP,
CreateMSUB, CreateMSUP, CreateMUNDEROVER, CreateMUNDER, CreateMOVER,
CreateMROW, CreateMMULTISCRIPTS, CreateMTABLE.</p>
</li>
<li>
In <code>Links</code> menu:
<p>
CreateLink, CreateTarget, ChangeLink, DeleteAnchor.</p>
</li>
<li>
In <code>Views</code> menu:
<p>
TtcSwitchButtonBar, TtcSwitchCommands, ShowMapAreas, ShowTargets, ZoomIn,
ZoomOut, ShowStructure, ShowAlternate, ShowLinks, ShowToC.</p>
</li>
<li>
In <code>Style</code> menu:
<p>
TtcChangeCharacters, TtcChangeColors, TtcChangeFormat, ChangeBackgroundImage,
CreateClass, ApplyClass, InitCSSDialog, CreateElemEmphasis, CreateElemStrong,
CreateElemCite, CreateElemDefinition, CreateElemCode, CreateElemVariable,
CreateElemSample, CreateElemKeyboard, CreateElemAbbr, CreateElemAcronym,
CreateElemINS, CreateElemDEL, CreateElemItalic, CreateElemBold,
CreateElemTeletype, CreateElemBig, CreateElemSmall, CreateSub, CreateSup,
CreateQuotation, CreateBDO.</p>
</li>
<li>
In <code>Special</code> menu:
<p>
TransformType, SectionNumbering, MakeBook.</p>
</li>
<li>
In <code>Help</code> menu:
<p>
HelpAmaya, HelpBrowsing, HelpSelecting, HelpSearching, HelpViews,
HelpCreating, HelpLinks, HelpChanging, HelpTables, HelpMath, HelpImageMaps,
HelpStyleSheets, HelpAttributes, HelpPublishing, HelpPrinting, HelpNumbering,
HelpMakeBook, HelpConfigure.</p>
</li>
</ul>
<p>
</p>
</div>
<hr>

<address>
<a href="mailto:vatton@w3.org">Ir&egrave;ne Vatton</a><br>
<br>
</address>
</body>
</html>
