<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
	
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <title>Known Issues with Annotations and Modified Documents</title>
  <style type="text/css">
  </style>
  <meta name="GENERATOR" content="amaya 5.2" />
  <link href="../style.css" rel="stylesheet" type="text/css" />
</head>

<body xml:lang="en" lang="en">

<table border="0" summary="toc">
  <tbody>
    <tr>
      <td><img alt="W3C" src="../../images/w3c_home" /> <img alt="Amaya"
        src="../../images/amaya.gif" /></td>
      <td><p><a href="about_storing_remote_annotations.html" accesskey="p"><img alt="previous"
        src="../../images/left.gif" /></a> 
		<a href="../Annotations.html" accesskey="t"><img alt="top" src="../../images/up.gif" /></a> 
	</p>
      </td>
    </tr>
  </tbody>
</table>

<h1>Known Issues with Annotations and Modified Documents</h1>

<p>When you use annotations with live documents (documents whose contents can
be modified), you may encounter two kinds of problems: orphan annotations and
misleading annotations. To explain these problems, we must first describe how
Amaya attaches annotations to documents.</p>

<p>Amaya uses XPointer to indicate where an annotation should be attached to
a document. XPointers are based in the structure of the document. To build an
XPointer for a selection, for example, Amaya starts from the first point of
the selection and walk backwards through the document's structure, until it
finds the root of the document. If an element has an ID attribute, Amaya
stops building the XPointer and considers the element with the ID attribute
value to be the beginning of that XPointer.</p>

<p>Note that the use of the ID attribute enables the document author to move
the entire reference by the Xpointer to another location within the document,
without needing to update the XPointer. The XPointer does not depend on the
elements that precede it.</p>

<p>An annotation becomes an “orphan” when it can no longer be attached to a
document, that is, when the XPointer does not resolve to any element in the
structure. This happens when a document's structure is modified. Amaya
displays a warning if it detects any orphan annotations while downloading a
set of annotations from an annotation server. All orphan annotations are
visible from the Links view and are associated with an icon that shows a
question mark superimposed on the annotation pencil.</p>

<p>An annotation becomes “misleading” when it points to a wrong piece of
information. This problem is common when you annotate a portion of text that
may change. In the first release, Amaya does not warn the user if an
annotation is misleading. A future release may notify users of the potential
for an annotation to be misleading.</p>

<p><strong>What can you do to avoide this?</strong></p>

<p>As the author of a document, try to use the <code>ID</code> attribute in
strategic places, for example, inside <code>&lt;DIV&gt;</code> elements.
Amaya enables you to automatically associate with or remove an
<code>ID</code> attribute to/from a set of elements by choosing
<strong>Add/Remove ID</strong> from the <strong>Special</strong> menu.</p>
</body>
</html>

