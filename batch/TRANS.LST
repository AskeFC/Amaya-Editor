GRAMMAR OF FILE TRANS.LAN


 rule
number

		{ This grammar defines the langage T of Thot
		  The notation used here is defined in file META.LAN
	 
		   ' '  : keyword
		   [ ]  : optional part
		   < >  : optional and repeatable part
		   /    : choice
	
		  V. Quint	January 1988	}
	
    1	TransSchema  =  'Translation' TypeIdent ';'
	              [ 'LineLength' MaxLineLength ';' ]
		      [ 'LineEnd' LineEndString ';' ]
		      [ 'LineEndInsert' LineEndInsertString ';' ]
	              [ 'Buffers' SeqOfBuffer ]
	              [ 'Counters' SeqOfCounter ]
	              [ 'Const' SeqOfConst ]
	              [ 'Var' SeqOfVariable ]
	                'Rules' TheRules
	              [ 'Attributes' SeqOfAttr ]
	              [ 'Presentation' SeqOfPres ]
	              < 'TextTranslate' TSeqOfTransl >
	              [ 'SymbTranslate' SeqOfTransl ]
	              [ 'GraphTranslate' SeqOfTransl ]
	                'End' .
	
    3	MaxLineLength =  NUMBER .
    4	LineEndString =  STRING .
    5	LineEndInsertString =  STRING .
	
    8	SeqOfConst =     ConstDcl < ConstDcl > .
   15	ConstDcl =       ConstIdent '=' ConstValue ';' .
   16	ConstIdent =     NAME .
   17	ConstValue =     STRING .
	
    7	SeqOfCounter =   CounterDcl < CounterDcl > .
   18	CounterDcl =     CounterIdent [ ':' CountFunction ] ';' .
   19	CounterIdent =   NAME .
   20	CountFunction =  'Rank' 'of' TypeIdent [ RelAncestorLevel ] [ 'Init' AttrIdent ] /
	                 'Rlevel' 'of' TypeIdent /
	                 'Set' InitValue 'On' TypeIdent 'Add' IncrValue
	                 'On' TypeIdent [ 'Init' AttrIdent ] .
   21	RelAncestorLevel = [ '-' ] AncestorLevel .
   25	AncestorLevel =	 NUMBER .
   23	InitValue =      NUMBER .
   24	IncrValue =      NUMBER .
    2	TypeIdent =      NAME .
	
    6	SeqOfBuffer =    BufferDcl < BufferDcl > .
   26	BufferDcl =      BufferIdent [ '(' 'Picture' ')' ] ';' .
   27	BufferIdent =    NAME .
	
    9	SeqOfVariable =  VariableDcl < VariableDcl > .
   28	VariableDcl =    VariableIdent ':' Function < Function > ';' .
   29	VariableIdent =  NAME .
   30	Function =       'Value' '(' CounterIdent [ ':' Length ] [ ',' CounterStyle ] ')' /
			 'FileDir' / 'FileName' / 'Extension' /
			 'DocumentName' / 'DocumentDir' /
			 ConstIdent / CharString / BufferIdent / AttrIdent .
   31	Length =	 NUMBER .
   32	CounterStyle =   'ARABIC' / 'UROMAN' / 'LROMAN' / 'UPPERCASE' / 'LOWERCASE' .
	
   33	CharString =     STRING .
	
   11	SeqOfAttr =      TransAttr < TransAttr > .
   34	TransAttr =      AttrIdent [ '(' TypeIdent ')' ] [ AttrRelat ] ':'
	                 SeqOfRules .
   22	AttrIdent =      NAME .
   35	AttrRelat =	 '=' AttrValue / '>' [ '-' ] MinVal / '<' [ '-' ] MaxVal /
			 'IN' '[' ['-'] MinInterval '.' '.' ['-'] MaxInterval ']' .
   37	AttrValue =	 [ '-' ] ValEqual / TextEqual / AttrValIdent .
   38	MinVal =	 NUMBER .
   39	MaxVal =	 NUMBER .
   40	MinInterval =	 NUMBER .
   41	MaxInterval =	 NUMBER .
   42	ValEqual =	 NUMBER .
   43	TextEqual =	 STRING .
   44	AttrValIdent =   NAME .
	
   10	TheRules =       TransType < TransType > .
   45	TransType =      [ FirstSec ] TypeIdent ':' SeqOfRules .
   46	FirstSec =	 'First' / 'Second' .
	
   36	SeqOfRules =     'Begin' < CondRules > 'End' ';' / CondRules .
   47	CondRules =       Rule1 / Rule2 .
	
   49	Rule2 =          'If' SeqOfCond SeqOfRules1 .
   50	SeqOfCond =      Condition < 'And' Condition > .
	
   52	Condition =      [ 'Not' ] [ 'Target' ] Cond .
   53	Cond =		 CondOnSelf / CondAscend .
   54	CondOnSelf =     'Defined' /
	                 'FirstRef' / 'LastRef' / 'ExternalRef' /
			 'Alphabet' '=' Alphabet /
			 'FirstAttr' / 'LastAttr' /
			 'ComputedPage' / 'StartPage' / 'UserPage' / 'ReminderPage' /
			 'Empty' .
	
   55	CondAscend =     [ Ascend ] CondOnAscend .
   57	Ascend =         '*' / 'Parent' / 'Ancestor' LevelOrType .
   59	LevelOrType =    CondRelLevel / TypeIdent [ '(' TypeIdent ')' ] .
   60	CondRelLevel =   NUMBER .
   58	CondOnAscend =   'First' / 'Last' /
	                 'Refered' / 'Referred' /
		         [ 'Immediately' ] 'Within' [ ParentLevel ] TypeIdent
	                                                      [ '(' TypeIdent ')' ] /
		         'FirstWithin' [ ParentLevel ] TypeIdent
	                                                      [ '(' TypeIdent ')' ] /
			 'Attributes' /
			  AttrIdent [ AttrRelat ] /
	                 'Presentation' / PresRule / 'Comment' .
	
   61	ParentLevel =	 [ GreaterLess ] RelLevel .
   63	GreaterLess =	 '>' / '<' .
   64	RelLevel =	 NUMBER .
   65	TrSchema =       NAME .
	
   51	SeqOfRules1 =    'Begin' < Rule1 > 'End' ';' / Rule1 .
	
   48	Rule1 =          'Create' [ 'IN' VariableIdent ] Token [ Position ] ';' /
	                 'Get' [ RelPosition ] TypeIdent [ '(' TypeIdent ')' ]
	                       [ Position ] ';' /
			 'Copy' [ RelPosition ] TypeIdent [ '(' TypeIdent ')' ]
		                [ Position ] ';' /
	                 'Use' TrSchema [ 'For' TypeIdent ] ';' /
	                 'Remove' ';' /
		         'Write' Token [ Position ] ';' /
	                 'Read' BufferIdent [ Position ] ';' /
	                 'Include' File [ Position ] ';' /
			 'NoTranslation' ';' /
	                 'NoLineBreak' ';' /
			 'ChangeMainFile' VariableIdent [ Position ] ';' /
			 'Set' CounterIdent InitValue [ Position ] ';' /
			 'Add' CounterIdent IncrValue [ Position ] ';' /
	                 'Indent' [ 'IN' VariableIdent ] [ IndentSign ] IndentVal
	                          [ Position ] ';' .
	
   70	IndentSign =     '+' / '-' .
   71	IndentVal =	 NUMBER .
	
   66	Token =		 ConstIdent / VariableIdent /
			 'Refered' VarOrType [ '(' TypeIdent ')' ] /
			 'Referred' VarOrType [ '(' TypeIdent ')' ] /
	                 CharString /
	                 BufferIdent / '(' Function < Function > ')' /
	                 AttrIdent / 'Value' / 'Content' / 'Comment' /
			 'FileDir' / 'FileName' / 'Extension' /
			 'DocumentName' / 'DocumentDir' /
	                 'Attributes' / 'Presentation' / 'RefId' / 'PairId' .
   72	VarOrType =	 'DocumentName' / 'DocumentDir' / 'RefId' /
			 VariableIdent / TypeIdent .
   67	Position =       'After' / 'Before' .
   68	RelPosition =    'Included' / 'Refered' / 'Referred' .
	
   69	File =           FileName / BufferIdent .
	
   13	TSeqOfTransl =   [ Alphabet ] SeqOfTransl .
   56	Alphabet =       NAME .
   14	SeqOfTransl =    'Begin' < Translation > 'End' ';' /
	                 Translation .
   74	Translation =    Source [ '-' '>' Target ] ';' .
   75	Source =         STRING .
   76	Target =         STRING .
   73	FileName =       STRING .
	
   12	SeqOfPres =      TransPres < TransPres > .
   77	TransPres =      PresRule ':' SeqOfRules .
   62	PresRule =       'Size' [ PresRelat ] /
	                 'Indent' [ PresRelat ] /
	                 'LineSpacing' [ PresRelat ] /
	                 'Adjust' [ '=' AdjustVal ] /
		         'Justify' [ '=' BooleanVal ] /
		         'Hyphenate' [ '=' BooleanVal ] /
	                 'Style' [ '=' StyleVal ] /
	                 'Font' [ '=' FontVal ] /
	                 'UnderLine' [ '=' UnderLineVal ] /
		          'Thickness' [ '=' UnderLStyleVal ] /
			 'LineStyle' [ '=' LineStyleVal ] /
			 'LineWeight' [ PresRelat ] /
			 'FillPattern' [ '=' Pattern ] /
			 'Background' [ '=' Color ] /
			 'Foreground' [ '=' Color ] .
   78	PresRelat =      '=' PresValue /
	                 '>' [ '-' ] MinimumPres /
	                 '<' [ '-' ] MaximumPres /
	                 'IN' '[' [ '-' ] MinIntervalPres '.' '.'
	                          [ '-' ] MaxIntervalPres ']' .
   79	AdjustVal =      'Left' / 'Right' / 'VMiddle' / 'LeftWithDots' .
   80	BooleanVal =     'Yes' / 'No' .
   81	StyleVal =       'Bold' / 'Italics' / 'Roman' / 'BoldItalics' /
	                 'Oblique' / 'BoldOblique' .
   82	FontVal =        'Times' / 'Helvetica' / 'Courier' .
   83	UnderLineVal =   'NoUnderline' / 'Underlined' / 'Overlined' / 'CrossedOut' /
			 { the following values are obsolete }
	                 'No' / 'UnderLine' / 'OverLine' / 'StrikeOut' .
   84	UnderLStyleVal = 'Thick' / 'Thin' .
	
   85	LineStyleVal =   'Solid' / 'Dashed' / 'Dotted' .
   86	Pattern =        NAME .
   87	Color =          NAME .
	
   89	MinimumPres =    NUMBER .
   90	MaximumPres =    NUMBER .
   91	MinIntervalPres= NUMBER .
   92	MaxIntervalPres= NUMBER .
   88	PresValue =      [ '-' ] PresVal .
   93	PresVal =        NUMBER .
	
	END
	


*** SHORT KEY-WORDS ***

code  character  numbers of rules using the key-word

1001      ;       1   1   1   1  15  18  26  28  36  51  48  48  48  48  48  48
                 48  48  48  48  48  48  48  48  14  74
1002      =      15  35  54  62  62  62  62  62  62  62  62  62  62  62  78
1003      :      18  28  30  34  45  77
1004      -      21  35  35  35  35  37  70  74  78  78  78  78  88
1005      (      26  30  34  59  58  58  48  48  66  66  66
1006      )      26  30  34  59  58  58  48  48  66  66  66
1007      ,      30
1008      >      35  63  74  78
1009      <      35  63  78
1010      [      35  78
1011      .      35  35  78  78
1012      ]      35  78
1013      *      57
1014      +      70



*** LONG KEY-WORDS ***

code  key-word      numbers of rules using the key-word

1101  Translation      1
1102  LineLength       1
1103  LineEnd          1
1104  LineEndInsert    1
1105  Buffers          1
1106  Counters         1
1107  Const            1
1108  Var              1
1109  Rules            1
1110  Attributes       1  58  66
1111  Presentation     1  58  66
1112  TextTranslate    1
1113  SymbTranslate    1
1114  GraphTranslate   1
1115  End              1  36  51  14
1116  Rank            20
1117  of              20  20
1118  Init            20  20
1119  Rlevel          20
1120  Set             20  48
1121  On              20  20
1122  Add             20  48
1123  Picture         26
1124  Value           30  66
1125  FileDir         30  66
1126  FileName        30  66
1127  Extension       30  66
1128  DocumentName    30  66  72
1129  DocumentDir     30  66  72
1130  ARABIC          32
1131  UROMAN          32
1132  LROMAN          32
1133  UPPERCASE       32
1134  LOWERCASE       32
1135  IN              35  48  48  78
1136  First           46  58
1137  Second          46
1138  Begin           36  51  14
1139  If              49
1140  And             50
1141  Not             52
1142  Target          52
1143  Defined         54
1144  FirstRef        54
1145  LastRef         54
1146  ExternalRef     54
1147  Alphabet        54
1148  FirstAttr       54
1149  LastAttr        54
1150  ComputedPage    54
1151  StartPage       54
1152  UserPage        54
1153  ReminderPage    54
1154  Empty           54
1155  Parent          57
1156  Ancestor        57
1157  Last            58
1158  Refered         58  66  68
1159  Referred        58  66  68
1160  Immediately     58
1161  Within          58
1162  FirstWithin     58
1163  Comment         58  66
1164  Create          48
1165  Get             48
1166  Copy            48
1167  Use             48
1168  For             48
1169  Remove          48
1170  Write           48
1171  Read            48
1172  Include         48
1173  NoTranslation   48
1174  NoLineBreak     48
1175  ChangeMainFile  48
1176  Indent          48  62
1177  Content         66
1178  RefId           66  72
1179  PairId          66
1180  After           67
1181  Before          67
1182  Included        68
1183  Size            62
1184  LineSpacing     62
1185  Adjust          62
1186  Justify         62
1187  Hyphenate       62
1188  Style           62
1189  Font            62
1190  UnderLine       62  83
1191  Thickness       62
1192  LineStyle       62
1193  LineWeight      62
1194  FillPattern     62
1195  Background      62
1196  Foreground      62
1197  Left            79
1198  Right           79
1199  VMiddle         79
1200  LeftWithDots    79
1201  Yes             80
1202  No              80  83
1203  Bold            81
1204  Italics         81
1205  Roman           81
1206  BoldItalics     81
1207  Oblique         81
1208  BoldOblique     81
1209  Times           82
1210  Helvetica       82
1211  Courier         82
1212  NoUnderline     83
1213  Underlined      83
1214  Overlined       83
1215  CrossedOut      83
1216  OverLine        83
1217  StrikeOut       83
1218  Thick           84
1219  Thin            84
1220  Solid           85
1221  Dashed          85
1222  Dotted          85



*** TABLE OF RULES AND REFERENCES ***

The code is the code of the symbol and the code of the rule
where that symbol appears in the left part. For each symbole,
the rule numbers indicate the rules that use that symbol in
right part.

 code  symbol        rule numbers

    1  TransSchema        
    2  TypeIdent             1  20  20  20  20  34  45  59  59  58  58  58  58
                              48  48  48  48  48  66  66  72
    3  MaxLineLength         1
    4  LineEndString         1
    5  LineEndInsertString   1
    6  SeqOfBuffer           1
    7  SeqOfCounter          1
    8  SeqOfConst            1
    9  SeqOfVariable         1
   10  TheRules              1
   11  SeqOfAttr             1
   12  SeqOfPres             1
   13  TSeqOfTransl          1
   14  SeqOfTransl           1   1  13
   15  ConstDcl              8   8
   16  ConstIdent           15  30  66
   17  ConstValue           15
   18  CounterDcl            7   7
   19  CounterIdent         18  30  48  48
   20  CountFunction        18
   21  RelAncestorLevel     20
   22  AttrIdent            20  20  30  34  58  66
   23  InitValue            20  48
   24  IncrValue            20  48
   25  AncestorLevel        21
   26  BufferDcl             6   6
   27  BufferIdent          26  30  48  66  69
   28  VariableDcl           9   9
   29  VariableIdent        28  48  48  48  66  72
   30  Function             28  28  66  66
   31  Length               30
   32  CounterStyle         30
   33  CharString           30  66
   34  TransAttr            11  11
   35  AttrRelat            34  58
   36  SeqOfRules           34  45  77
   37  AttrValue            35
   38  MinVal               35
   39  MaxVal               35
   40  MinInterval          35
   41  MaxInterval          35
   42  ValEqual             37
   43  TextEqual            37
   44  AttrValIdent         37
   45  TransType            10  10
   46  FirstSec             45
   47  CondRules            36  36
   48  Rule1                47  51  51
   49  Rule2                47
   50  SeqOfCond            49
   51  SeqOfRules1          49
   52  Condition            50  50
   53  Cond                 52
   54  CondOnSelf           53
   55  CondAscend           53
   56  Alphabet             54  13
   57  Ascend               55
   58  CondOnAscend         55
   59  LevelOrType          57
   60  CondRelLevel         59
   61  ParentLevel          58  58
   62  PresRule             58  77
   63  GreaterLess          61
   64  RelLevel             61
   65  TrSchema             48
   66  Token                48  48
   67  Position             48  48  48  48  48  48  48  48  48  48
   68  RelPosition          48  48
   69  File                 48
   70  IndentSign           48
   71  IndentVal            48
   72  VarOrType            66  66
   73  FileName             69
   74  Translation          14  14
   75  Source               74
   76  Target               74
   77  TransPres            12  12
   78  PresRelat            62  62  62  62
   79  AdjustVal            62
   80  BooleanVal           62  62
   81  StyleVal             62
   82  FontVal              62
   83  UnderLineVal         62
   84  UnderLStyleVal       62
   85  LineStyleVal         62
   86  Pattern              62
   87  Color                62  62
   88  PresValue            78
   89  MinimumPres          78
   90  MaximumPres          78
   91  MinIntervalPres      78
   92  MaxIntervalPres      78
   93  PresVal              88



*** REFERENCES TO BASIC TYPES ***

Numbers of the rules using NAME
  16  19   2  27  29  22  44  65  56  86  87

Numbers of the rules using NUMBER
   3  25  23  24  31  38  39  40  41  42  60  64  71  89  90  91  92  93

Numbers of the rules using STRING
   4   5  17  33  43  75  76  73
