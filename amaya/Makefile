#
# Compiling Thot schemas for HTML
# I. Vatton
#

.SUFFIXES:

.SUFFIXES: .STR .PRS .TRA .S .P .T

#
# Definitions
#
THOTDIR = ..
THOTSCH = ${THOTDIR}/amaya:${THOTDIR}/schemas
COMPSCH = ${THOTDIR}/amaya
COMPSTR = str -DR_HTML -DCOUGAR
COMPPRS = prs -DR_HTML -DCOUGAR
COMPTRA = tra -DR_HTML -DCOUGAR

#
# Rules
#

.S.STR :
	$(COMPSTR) $*

.P.PRS :
	$(COMPPRS) $*

.T.TRA :
	$(COMPTRA) $*

#
# To do
#

all:	compHTML compHTMLP tra

#
# Structure schema
#

compHTML: $(COMPSCH)/HTML.STR
$(COMPSCH)/HTML.STR : $(COMPSCH)/HTML.S
	$(COMPSTR) HTML
	$(COMPPRS) HTMLP
	$(COMPPRS) -DPAGE HTMLP HTMLPP
	$(COMPPRS) -DPAGE -DUS_PAPER HTMLP HTMLPPUS
	$(COMPPRS) -DBLACK_WHITE HTMLP HTMLPBW
	$(COMPTRA) HTMLT	

#
# Presentation schemas
#

compHTMLP: $(COMPSCH)/HTMLP.PRS
$(COMPSCH)/HTMLP.PRS : $(COMPSCH)/HTMLP.P
	$(COMPPRS) HTMLP
	$(COMPPRS) -DPAGE HTMLP HTMLPP
	$(COMPPRS) -DPAGE -DUS_PAPER HTMLP HTMLPPUS
	$(COMPPRS) -DBLACK_WHITE HTMLP HTMLPBW

#
# Translation schemas
#

TRANSLATION_SCHEMAS = \
	HTMLT.TRA

tra : $(TRANSLATION_SCHEMAS)
